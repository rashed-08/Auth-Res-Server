CREATE TABLE OAUTH_CLIENT_DETAILS
(
    CLIENT_ID               VARCHAR(255) NOT NULL PRIMARY KEY,
    CLIENT_SECRET           VARCHAR(255) NOT NULL,
    RESOURCE_IDS            VARCHAR(255)  DEFAULT NULL,
    SCOPE                   VARCHAR(255)  DEFAULT NULL,
    AUTHORIZED_GRANT_TYPES  VARCHAR(255)  DEFAULT NULL,
    WEB_SERVER_REDIRECT_URI VARCHAR(255)  DEFAULT NULL,
    AUTHORITIES             VARCHAR(255)  DEFAULT NULL,
    ACCESS_TOKEN_VALIDITY   INT(11) DEFAULT NULL,
    REFRESH_TOKEN_VALIDITY  INT(11) DEFAULT NULL,
    ADDITIONAL_INFORMATION  VARCHAR(4096) DEFAULT NULL,
    AUTOAPPROVE             VARCHAR(255)  DEFAULT NULL
);

CREATE TABLE PERMISSION
(
    ID   INT PRIMARY KEY AUTO_INCREMENT,
    NAME VARCHAR(60) UNIQUE KEY
);

CREATE TABLE ROLE
(
    ID   INT PRIMARY KEY AUTO_INCREMENT,
    NAME VARCHAR(60) UNIQUE KEY
);

CREATE TABLE PERMISSION_ROLE
(
    PERMISSION_ID INT,
    FOREIGN KEY (PERMISSION_ID) REFERENCES PERMISSION (ID),
    ROLE_ID       INT,
    FOREIGN KEY (ROLE_ID) REFERENCES ROLE (ID)
);

CREATE TABLE USER
(
    ID                  INT PRIMARY KEY AUTO_INCREMENT,
    USERNAME            VARCHAR(24) UNIQUE KEY NOT NULL,
    PASSWORD            VARCHAR(255) NOT NULL,
    EMAIL               VARCHAR(255) NOT NULL,
    ENABLED             BIT(1)       NOT NULL,
    ACCOUNT_EXPIRED     BIT(1)       NOT NULL,
    CREDENTIALS_EXPIRED BIT(1)       NOT NULL,
    ACCOUNT_LOCKED      BIT(1)       NOT NULL
);

CREATE TABLE ROLE_USER
(
    ROLE_ID INT,
    FOREIGN KEY (ROLE_ID) REFERENCES ROLE (ID),
    USER_ID INT,
    FOREIGN KEY (USER_ID) REFERENCES USER (ID)
);